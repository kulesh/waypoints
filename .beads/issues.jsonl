{"id":"waypoints-01l","title":"Implement proper GenSpec Compare mode","description":"Current Compare mode is incomplete and not useful:\n- Creates two projects but doesn't actually diff them\n- Without SHAPE_BRIEF/SHAPE_SPEC steps in spec, both projects end up identical\n- No UI to view the comparison\n\nTo properly implement Compare:\n1. Fix exporter to capture generation steps (SHAPE_BRIEF, SHAPE_SPEC, CHART)\n2. Run regeneration with fresh LLM calls\n3. Build diff viewer to compare original vs regenerated outputs\n4. Handle case where user wants to pick which version to keep","status":"closed","priority":3,"issue_type":"feature","owner":"test@waypoints.dev","created_at":"2026-01-18T19:30:05.462596-05:00","created_by":"Waypoints Test","updated_at":"2026-01-18T20:04:36.684265-05:00","closed_at":"2026-01-18T20:04:36.684265-05:00","close_reason":"Replaced with proper verification system design - Compare mode was poorly scoped. New approach: CLI-based genspec verification for developer QA, not a UI feature."}
{"id":"waypoints-07o","title":"Project path resolution uses mixed sources","description":"Summary: Project path resolution is inconsistent between settings.project_directory and get_paths().projects_dir. A user-set projects root may be ignored in some flows, scattering artifacts across multiple locations.\n\nContext:\n- Waypoints code lives in one repo path (e.g., ~/dev/waypoints/) while projects are expected in a separate root (e.g., ~/dev/flight-tests/projects/).\n- settings.project_directory provides an override for the projects root.\n- get_paths().projects_dir provides a workspace-based default (.waypoints/projects).\n\nWhere observed:\n- settings.project_directory is used in src/waypoints/models/project.py via _get_projects_dir().\n- get_paths().projects_dir is used directly in other flows (CLI/import/export/coordinator) via src/waypoints/config/paths.py.\n\nImpact/Risk:\n- Custom project roots might be ignored in some code paths, causing artifacts and sessions to be written to the default workspace path instead of the intended projects root.\n- Users may see missing projects in the TUI/CLI or fail crash recovery if the wrong root is read.\n\nSuggested Fix Direction:\n1) Establish a single source of truth for project root resolution (recommend: always go through settings.project_directory with fallback to get_paths().projects_dir).\n2) Audit all path construction call sites to ensure they use the unified accessor.\n3) Add startup logging to show the resolved projects root.\n4) Add a regression test that sets a custom project_directory and verifies project creation/load uses only that location.","status":"closed","priority":2,"issue_type":"bug","owner":"test@waypoints.dev","created_at":"2026-01-18T23:28:44.706586-05:00","created_by":"Waypoints Test","updated_at":"2026-01-19T02:10:21.64303-05:00","closed_at":"2026-01-19T02:10:21.64303-05:00","close_reason":"Closed"}
{"id":"waypoints-08j","title":"GenSpec bundle format + exporter","description":"Define a stable genspec bundle format (zip) with metadata, artifact layout, and checksums. Implement exporter that packages genspec.jsonl + artifacts into a deterministic bundle for sharing, tests, and verification.","status":"closed","priority":2,"issue_type":"epic","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-04T16:03:14.884601-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-04T16:59:53.660802-05:00","closed_at":"2026-02-04T16:59:53.660806-05:00"}
{"id":"waypoints-08q","title":"Phase 3: Make flight-test workflow executable","description":"Make documented flight-test workflows executable with real scripts and deterministic entrypoints.","notes":"Implemented executable flight-test entrypoints: scripts/run_flight_tests.py (discovery + plan/execute modes), baseline L0/L1 suite directories with smoke_test.sh + idea fixtures, and self-host scripts flight-tests/self-host/run.sh + report.py.","status":"closed","priority":1,"issue_type":"feature","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-06T19:36:18.336854-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-06T19:49:52.986175-05:00","closed_at":"2026-02-06T19:49:52.986175-05:00","close_reason":"Flight-test workflow is now executable with concrete scripts and baseline L0/L1/self-host harness assets.","dependencies":[{"issue_id":"waypoints-08q","depends_on_id":"waypoints-0pn","type":"blocks","created_at":"2026-02-06T19:36:47.013672-05:00","created_by":"Kulesh Shanmugasundaram"}]}
{"id":"waypoints-0hm","title":"F4: Live brief generation","description":"Brief panel updates after each exchange. Clarity meter with %. Missing elements listed. User can edit brief. Edits preserved across turns.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T16:47:43.057678-05:00","created_by":"kulesh","updated_at":"2026-01-07T21:47:09.795181-05:00","closed_at":"2026-01-07T21:47:09.795181-05:00","close_reason":"Implemented in TUI: project creation, Q\u0026A dialogue, brief/spec generation, JSONL session persistence","dependencies":[{"issue_id":"waypoints-0hm","depends_on_id":"waypoints-3qq","type":"blocks","created_at":"2026-01-07T16:49:18.490507-05:00","created_by":"kulesh"}]}
{"id":"waypoints-0ja","title":"Foundation: Project Setup \u0026 State Persistence","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T16:46:22.529401-05:00","created_by":"kulesh","updated_at":"2026-01-07T21:47:19.395132-05:00","closed_at":"2026-01-07T21:47:19.395132-05:00","close_reason":"All child tasks completed"}
{"id":"waypoints-0pn","title":"Phase 2: Remove or integrate duplicate coordinator_fly logic","description":"Eliminate duplicate fly-domain logic in coordinator_fly by integrating into active modules or removing dead surface area.","notes":"Integrated coordinator_fly helper logic into runtime FlyPhase: select_next_waypoint() now uses select_next_waypoint_candidate(), get_completion_status() uses build_completion_status(), success next-action uses build_next_action_after_success(), and intervention mapping uses build_intervention_resolution().","status":"closed","priority":1,"issue_type":"task","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-06T19:36:18.188055-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-06T19:49:52.861841-05:00","closed_at":"2026-02-06T19:49:52.861841-05:00","close_reason":"Duplicate fly-domain helper logic has been integrated into active runtime FlyPhase paths.","dependencies":[{"issue_id":"waypoints-0pn","depends_on_id":"waypoints-7h4","type":"blocks","created_at":"2026-02-06T19:36:46.886782-05:00","created_by":"Kulesh Shanmugasundaram"}]}
{"id":"waypoints-0r7","title":"Failed waypoints ignored on app restart","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-10T14:13:24.471476-05:00","created_by":"kulesh","updated_at":"2026-01-10T14:13:32.0583-05:00","closed_at":"2026-01-10T14:13:32.0583-05:00","close_reason":"Fixed: on_mount() now passes include_in_progress=True to select failed/in-progress waypoints on restart"}
{"id":"waypoints-14g","title":"Add LAND_REVIEW journey state","description":"Rename LANDED to LAND_REVIEW, update transitions in journey.py","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T01:01:06.860479-05:00","created_by":"kulesh","updated_at":"2026-01-11T01:03:33.737702-05:00","closed_at":"2026-01-11T01:03:33.737702-05:00","close_reason":"Added LAND_REVIEW state, updated transitions, tests pass","dependencies":[{"issue_id":"waypoints-14g","depends_on_id":"waypoints-9ev","type":"blocks","created_at":"2026-01-11T01:01:12.167653-05:00","created_by":"kulesh"}]}
{"id":"waypoints-15q","title":"P1: Centralized Path Management","description":"Single WaypointsPaths class for all path construction. Consistent config resolution: project \u003e workspace \u003e global. No hardcoded .waypoints/ strings outside paths.py. See docs/architecture-roadmap.md for full spec.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T19:39:13.330773-05:00","created_by":"kulesh","updated_at":"2026-01-10T21:08:15.377826-05:00","closed_at":"2026-01-10T21:08:15.377826-05:00","close_reason":"Implemented WaypointsPaths class with XDG compliance. All path construction now goes through get_paths() singleton."}
{"id":"waypoints-1br","title":"LAND iterate composer with attachment paths","description":"Implement a Codex-style multiline composer in LAND Iterate: freeform request text + path-based attachments (drag/drop as pasted paths). Persist attachment metadata in project-local evidence storage and generate patch/debug waypoints from submission.","notes":"Implements Codex-style single composer in LAND Iterate with file-path attachments and patch waypoint generation.","status":"closed","priority":2,"issue_type":"task","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-06T21:16:27.134387-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-06T21:22:27.386835-05:00","closed_at":"2026-02-06T21:22:27.386835-05:00","close_reason":"Implemented Codex-style LAND iterate composer with Enter-submit, path-based attachment ingestion to project evidence snapshots, and generated waypoint review+handoff to FLY."}
{"id":"waypoints-1i1","title":"REF53-P6 refresh runtime and testing docs","description":"Phase 6: refresh runtime/testing docs and retrieval index so documentation matches architecture.","status":"open","priority":2,"issue_type":"task","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-05T21:51:49.27556-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-05T21:52:07.497416-05:00","dependencies":[{"issue_id":"waypoints-1i1","depends_on_id":"waypoints-wgm","type":"blocks","created_at":"2026-02-05T21:52:24.468946-05:00","created_by":"Kulesh Shanmugasundaram"},{"issue_id":"waypoints-1i1","depends_on_id":"waypoints-6ow","type":"blocks","created_at":"2026-02-05T21:52:25.161685-05:00","created_by":"Kulesh Shanmugasundaram"}]}
{"id":"waypoints-1ol","title":"File picker + progress for export","description":"Replace hardcoded export path with file picker dialog. Default filename: {project}-{date}.genspec.jsonl. Show progress bar during export with phase/artifact listing. Success notification with file path.","status":"closed","priority":2,"issue_type":"task","owner":"test@waypoints.dev","created_at":"2026-01-17T12:15:04.018842-05:00","created_by":"Waypoints Test","updated_at":"2026-01-17T16:14:23.601023-05:00","closed_at":"2026-01-17T16:14:23.601023-05:00","close_reason":"Closed"}
{"id":"waypoints-1zr","title":"Integration: Document Editing \u0026 Git","description":"vim integration for document editing. Git commits at phase transitions, tags at milestones.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-07T16:46:51.557784-05:00","created_by":"kulesh","updated_at":"2026-01-10T22:25:59.742775-05:00","closed_at":"2026-01-10T22:25:59.742775-05:00","close_reason":"Already implemented: vim/editor integration + git commits at waypoint completion"}
{"id":"waypoints-217","title":"Improve LLM reliability and observability (cost/budget/path logging)","description":"Summary: Improve reliability/observability around LLM usage and runtime context. Several gaps exist: missing cost estimates for OpenAI streaming, budget checks not enforced in coordinator phases, and limited visibility into resolved project paths and per-phase cost in the TUI.\n\nDetails / gaps observed:\n- OpenAI provider () streams responses but does not compute cost; metrics collector is fed 0 cost. No token estimation or post-hoc cost calculation.\n- Budget ( Budget class) is defined but not enforced in execution/coordinator flows; phases can exceed budgets without fail-fast.\n- Path visibility: resolved project root is not surfaced on startup; when users set custom project_directory, it‚Äôs hard to confirm the effective root.\n- TUI cost display requires manual refresh; per-phase cost isn‚Äôt surfaced unless explicitly updated. Metrics are collected but not prominently shown.\n\nImpact:\n- Hard to monitor/contain LLM spend; OpenAI usage reports misleading /bin/zsh in logs/metrics.\n- Budgets cannot prevent overrun; no user-facing warning or stop.\n- Users lack clarity on where artifacts are written, especially with custom project roots.\n- Observability of phase-by-phase cost is weak, making it harder to tune prompts or detect runaway calls.\n\nSuggested fix direction:\n1) Add token/cost estimation for OpenAI streaming (use model pricing and token counts via SDK or heuristic) and record real costs in metrics.\n2) Wire Budget checks into coordinator/executor phases (abort or warn before/when exceeding max_usd).\n3) Log resolved project root at startup and show in UI/CLI, especially when project_directory override is set.\n4) Surface per-phase cost in TUI header (auto-refresh on call completion) and optionally in CLI outputs for long-running commands.\n\nRelated issues: aligns with path consistency work (e.g., waypoints-07o) but is focused on observability and spend control.","status":"open","priority":3,"issue_type":"bug","owner":"test@waypoints.dev","created_at":"2026-01-19T00:08:35.981296-05:00","created_by":"Waypoints Test","updated_at":"2026-01-19T00:08:35.981296-05:00"}
{"id":"waypoints-21p","title":"SPARK Phase: Idea Entry","description":"Capture initial idea with minimal friction. First user touchpoint.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T16:46:35.785458-05:00","created_by":"kulesh","updated_at":"2026-01-07T21:47:19.369082-05:00","closed_at":"2026-01-07T21:47:19.369082-05:00","close_reason":"All child tasks completed"}
{"id":"waypoints-2eu","title":"Graceful API error handling (rate limits, budget exceeded)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-10T13:36:49.48974-05:00","created_by":"kulesh","updated_at":"2026-01-10T13:36:54.374173-05:00","closed_at":"2026-01-10T13:36:54.374173-05:00","close_reason":"Implemented: Added retry logic with exponential backoff, specific intervention types for rate limits/unavailability/budget exceeded, and user-friendly error messages"}
{"id":"waypoints-2pe","title":"Output Validation: Acceptance Criteria Verifier","description":"Implement acceptance criteria verification using LLM to evaluate if each criterion is met in generated code. Layer 2 of output validation.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T16:44:01.637869-05:00","created_by":"kulesh","updated_at":"2026-01-16T21:48:02.729607-05:00","closed_at":"2026-01-16T21:48:02.729607-05:00","close_reason":"Receipt enrichment with captured evidence complete","dependencies":[{"issue_id":"waypoints-2pe","depends_on_id":"waypoints-ai7","type":"blocks","created_at":"2026-01-08T16:44:30.479698-05:00","created_by":"kulesh"}]}
{"id":"waypoints-30s","title":"Phase 0: Establish remediation baseline and metrics","description":"Capture baseline metrics, current gap inventory, and exit criteria before implementation work begins.","notes":"Baseline captured in docs/shortcomings-remediation-baseline-2026-02-07.md with quality-gate results, LOC/complexity snapshot, gap inventory, and ordered phase sequence.","status":"closed","priority":1,"issue_type":"task","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-06T19:36:17.88641-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-06T19:38:25.287368-05:00","closed_at":"2026-02-06T19:38:25.287368-05:00","close_reason":"Phase 0 baseline and dependency-backed program setup completed."}
{"id":"waypoints-36t","title":"Collapsible iterations in Fly output","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-09T17:52:35.354099-05:00","created_by":"kulesh","updated_at":"2026-01-10T22:34:04.766574-05:00","closed_at":"2026-01-10T22:34:04.766574-05:00","close_reason":"Deferred: single iteration is typical, not needed yet"}
{"id":"waypoints-3fg","title":"Spec preview widget showing waypoints/artifacts","description":"GenSpecPreview widget showing: source project name, created date, model used, waypoint count with hierarchy visualization, artifact presence (Brief/Spec/Flight Plan), estimated effort.","status":"closed","priority":2,"issue_type":"task","owner":"test@waypoints.dev","created_at":"2026-01-17T12:15:03.203518-05:00","created_by":"Waypoints Test","updated_at":"2026-01-17T16:14:23.604104-05:00","closed_at":"2026-01-17T16:14:23.604104-05:00","close_reason":"Closed","dependencies":[{"issue_id":"waypoints-3fg","depends_on_id":"waypoints-r14","type":"blocks","created_at":"2026-01-17T12:15:11.896796-05:00","created_by":"Waypoints Test"}]}
{"id":"waypoints-3qq","title":"F3: Q\u0026A dialogue (SHAPE)","description":"AI asks clarifying questions. Conversation history persisted/scrollable. Quick-reply suggestions. Pause/resume support. Max 10-15 questions.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T16:47:37.796238-05:00","created_by":"kulesh","updated_at":"2026-01-07T21:47:09.793818-05:00","closed_at":"2026-01-07T21:47:09.793818-05:00","close_reason":"Implemented in TUI: project creation, Q\u0026A dialogue, brief/spec generation, JSONL session persistence","dependencies":[{"issue_id":"waypoints-3qq","depends_on_id":"waypoints-fos","type":"blocks","created_at":"2026-01-07T16:49:08.074335-05:00","created_by":"kulesh"},{"issue_id":"waypoints-3qq","depends_on_id":"waypoints-pg1","type":"blocks","created_at":"2026-01-07T16:49:13.24574-05:00","created_by":"kulesh"}]}
{"id":"waypoints-3w7","title":"Support iteration/re-execution from LAND phase","description":"Allow iterating on completed projects by re-running waypoints or adding new features.\n\n## Problem\nCurrently the journey state machine only allows forward progression (SPARK ‚Üí SHAPE ‚Üí CHART ‚Üí FLY ‚Üí LAND). Once a project reaches LAND, you cannot:\n- Re-run a specific waypoint\n- Add new waypoints and execute them\n- Iterate on the software with new features\n\n## Proposed Solution\nSupport a development iteration loop that allows cycling between CHART and FLY phases from LAND:\n\n1. **Re-run waypoint** - Reset a specific waypoint to PENDING and transition back to FLY\n2. **Add waypoint from LAND** - Allow adding new waypoints in LAND ‚Üí Iterate activity\n3. **Journey state loop** - Add valid transition from LAND back to CHART or FLY\n\n## Acceptance Criteria\n- [ ] Can select a completed waypoint and re-run it\n- [ ] Can add new waypoints from LAND phase\n- [ ] Journey state machine supports LAND ‚Üí CHART and LAND ‚Üí FLY transitions\n- [ ] New waypoints can depend on existing completed waypoints","status":"closed","priority":2,"issue_type":"epic","owner":"test@waypoints.dev","created_at":"2026-01-17T00:07:28.386611-05:00","created_by":"Waypoints Test","updated_at":"2026-02-10T17:02:10.929372-05:00","closed_at":"2026-02-10T17:02:10.929372-05:00","close_reason":"Completed LAND iteration loop: added LAND-\u003eCHART transition, Land Edit Plan route, and completed-waypoint rerun path in Fly","comments":[{"id":9,"issue_id":"waypoints-3w7","author":"Kulesh Shanmugasundaram","text":"Cross-check 2026-02-10: LAND iterate flow is implemented (draft/add waypoint from Land, iteration request persistence, switch back to Fly), and LAND-\u003eFLY transition exists. Remaining gap vs acceptance criteria: state machine does not yet allow LAND-\u003eCHART (), and there is no direct rerun action for COMPLETED waypoints. Keeping IN_PROGRESS is accurate.","created_at":"2026-02-10T21:21:54Z"},{"id":12,"issue_id":"waypoints-3w7","author":"Kulesh Shanmugasundaram","text":"Clarification: LAND-\u003eCHART is not in src/waypoints/models/journey.py VALID_TRANSITIONS for LAND_REVIEW; LAND currently allows FLY_READY and SPARK_IDLE only.","created_at":"2026-02-10T21:22:04Z"}]}
{"id":"waypoints-4di","title":"P0: Metrics \u0026 Cost Tracking","description":"Record every LLM call to metrics.jsonl (tokens, cost, latency). Show running total in status bar. Per-phase and per-waypoint cost breakdown. Optional budget enforcement. See docs/architecture-roadmap.md for full spec.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T19:39:12.865944-05:00","created_by":"kulesh","updated_at":"2026-01-09T13:24:59.733576-05:00","closed_at":"2026-01-09T13:24:59.733576-05:00","close_reason":"Implemented comprehensive metrics and cost tracking. Created MetricsCollector with JSONL persistence, integrated across all screens, added status bar cost display, per-waypoint cost in FLY screen, and 16 unit tests."}
{"id":"waypoints-4kn","title":"P0: Journey State Machine","description":"Explicit JourneyState enum with transition table. Validates transitions before screen switches. Persists state to project.json. Enables crash recovery to last valid state. See docs/architecture-roadmap.md for full spec.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T19:39:12.535678-05:00","created_by":"kulesh","updated_at":"2026-01-08T20:28:06.236059-05:00","closed_at":"2026-01-08T20:28:06.236059-05:00","close_reason":"Implemented journey state machine with explicit state tracking, transition validation, persistence, and crash recovery. All 30 tests passing."}
{"id":"waypoints-4l1","title":"Clickable file paths in Fly output","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T17:52:32.615737-05:00","created_by":"kulesh","updated_at":"2026-01-10T17:10:54.630659-05:00","closed_at":"2026-01-10T17:10:54.630659-05:00","close_reason":"Implemented file operations display with icons (‚úé ‚úö üìñ $) in execution log. Added FilePreviewModal widget for future click-to-preview functionality."}
{"id":"waypoints-5gg","title":"Test output panel on Fly screen","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-09T17:52:48.150618-05:00","created_by":"kulesh","updated_at":"2026-01-09T17:52:48.150618-05:00"}
{"id":"waypoints-5ln","title":"TUI shell with Textual","description":"Basic Textual app structure with screen navigation. Keyboard-first (j/k, Tab, q). Foundation for all phases.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T16:47:17.839739-05:00","created_by":"kulesh","updated_at":"2026-01-07T17:40:53.240657-05:00","closed_at":"2026-01-07T17:40:53.240657-05:00","close_reason":"Implemented Textual TUI with refined chat interface, vim keybindings, BaseDialogueScreen foundation"}
{"id":"waypoints-5ot","title":"F5: Product spec generation","description":"One-click generation from finalized brief. Standard sections (vision, features, data model, FAQ). Saved to .waypoints/docs/product-spec.md","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T16:47:48.328527-05:00","created_by":"kulesh","updated_at":"2026-01-07T21:47:09.796537-05:00","closed_at":"2026-01-07T21:47:09.796537-05:00","close_reason":"Implemented in TUI: project creation, Q\u0026A dialogue, brief/spec generation, JSONL session persistence","dependencies":[{"issue_id":"waypoints-5ot","depends_on_id":"waypoints-0hm","type":"blocks","created_at":"2026-01-07T16:49:23.661183-05:00","created_by":"kulesh"}]}
{"id":"waypoints-5to","title":"REF53-P2 decompose coordinator and executor","description":"Phase 2: split oversized coordinator/executor into capability-focused modules while preserving external behavior.","status":"open","priority":1,"issue_type":"task","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-05T21:51:46.32666-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-05T21:52:05.018008-05:00","dependencies":[{"issue_id":"waypoints-5to","depends_on_id":"waypoints-eav","type":"blocks","created_at":"2026-02-05T21:52:20.764913-05:00","created_by":"Kulesh Shanmugasundaram"}],"comments":[{"id":4,"issue_id":"waypoints-5to","author":"Kulesh Shanmugasundaram","text":"Phase 2 progress (2026-02-06 UTC): completed Slice 1 (completion-status extraction) and Slice 2 (waypoint-selection + success-action extraction) into src/waypoints/orchestration/coordinator_fly.py with full gate evidence (ruff/mypy/pytest green, 549 passing).","created_at":"2026-02-06T03:10:08Z"},{"id":7,"issue_id":"waypoints-5to","author":"Kulesh Shanmugasundaram","text":"Phase 2 Slice 3 complete (2026-02-06 UTC): extracted intervention decision logic from JourneyCoordinator.handle_intervention into coordinator_fly.build_intervention_resolution. Coordinator now delegates decision policy and keeps persistence/current-waypoint side effects. Added coordinator_fly intervention mapping tests for RETRY/SKIP/ROLLBACK/ABORT/EDIT. Full gates green: ruff pass, mypy pass (96 files), pytest 554 passed, coverage 39%.","created_at":"2026-02-06T03:12:21Z"}]}
{"id":"waypoints-632","title":"Add new waypoint with AI reprioritization","description":"Allow users to add new waypoints in the CHART phase, with optional AI-assisted reprioritization of the entire waypoint list.\n\n## Current State\n- Can delete waypoints (d)\n- Can break down waypoints into sub-waypoints (b)\n- Can edit existing waypoints (e)\n- **Cannot** add new top-level waypoints\n- **Cannot** reorder/reprioritize waypoints\n\n## Proposed Feature\n\n### Adding a Waypoint\nUser presses a key (e.g., `a`) to add a new waypoint:\n1. **Option A**: User describes what they want, AI generates waypoint (title, objective, acceptance criteria)\n2. **Option B**: User fills in waypoint details manually via form/modal\n\n### Reprioritization\nAfter adding, optionally trigger AI reprioritization:\n- AI reviews all waypoints against the product spec\n- Suggests optimal ordering based on dependencies and logical flow\n- User can accept/reject the new order\n\n### UI Considerations\n- Where to insert: append to end, insert at cursor, or let AI decide position\n- Show preview of reprioritized order before applying\n- Keyboard shortcut for add (a?) and reprioritize (R?)\n\n### Implementation Notes\n- Add `add_waypoint()` to coordinator\n- Add `reprioritize_waypoints()` to coordinator (calls LLM)\n- New modal for waypoint input or AI generation\n- Update flight plan widget to handle reordering","notes":"Phase 1 DONE: Add waypoint with AI-assisted generation (keybinding 'a'). Phase 2 TODO: Reprioritization feature (keybinding 'R').","status":"closed","priority":2,"issue_type":"feature","owner":"test@waypoints.dev","created_at":"2026-01-11T23:37:12.543995-05:00","created_by":"Waypoints Test","updated_at":"2026-01-15T19:36:00.937275-05:00","closed_at":"2026-01-15T19:36:00.937275-05:00","close_reason":"Both phases complete: Phase 1 (add waypoint with 'a' key) and Phase 2 (AI reprioritization with 'R' key + audit logging in waypoint_history.jsonl)"}
{"id":"waypoints-6b5","title":"F1: Project initialization and resume","description":"waypoints command with no args shows selector/creator. waypoints \u003cpath\u003e opens/creates project. Init git if needed. Load state from .waypoints/","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T16:47:07.32432-05:00","created_by":"kulesh","updated_at":"2026-01-07T21:47:09.791758-05:00","closed_at":"2026-01-07T21:47:09.791758-05:00","close_reason":"Implemented in TUI: project creation, Q\u0026A dialogue, brief/spec generation, JSONL session persistence","dependencies":[{"issue_id":"waypoints-6b5","depends_on_id":"waypoints-5ln","type":"blocks","created_at":"2026-01-07T16:48:47.258988-05:00","created_by":"kulesh"}]}
{"id":"waypoints-6ob","title":"Shortcomings Remediation Program","description":"Program to close architectural, testing, documentation, and workflow gaps identified in the February 2026 codebase assessment.","status":"closed","priority":1,"issue_type":"feature","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-06T19:36:17.698861-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-06T19:59:45.407481-05:00","closed_at":"2026-02-06T19:59:45.407481-05:00","close_reason":"All remediation phases completed in this worktree (P0-P6).","dependencies":[{"issue_id":"waypoints-6ob","depends_on_id":"waypoints-30s","type":"blocks","created_at":"2026-02-06T19:37:44.461708-05:00","created_by":"Kulesh Shanmugasundaram"},{"issue_id":"waypoints-6ob","depends_on_id":"waypoints-7h4","type":"blocks","created_at":"2026-02-06T19:37:44.713059-05:00","created_by":"Kulesh Shanmugasundaram"},{"issue_id":"waypoints-6ob","depends_on_id":"waypoints-0pn","type":"blocks","created_at":"2026-02-06T19:37:45.009603-05:00","created_by":"Kulesh Shanmugasundaram"},{"issue_id":"waypoints-6ob","depends_on_id":"waypoints-08q","type":"blocks","created_at":"2026-02-06T19:37:45.299252-05:00","created_by":"Kulesh Shanmugasundaram"},{"issue_id":"waypoints-6ob","depends_on_id":"waypoints-bl0","type":"blocks","created_at":"2026-02-06T19:37:45.550119-05:00","created_by":"Kulesh Shanmugasundaram"},{"issue_id":"waypoints-6ob","depends_on_id":"waypoints-w8w","type":"blocks","created_at":"2026-02-06T19:37:45.802642-05:00","created_by":"Kulesh Shanmugasundaram"},{"issue_id":"waypoints-6ob","depends_on_id":"waypoints-77j","type":"blocks","created_at":"2026-02-06T19:37:46.053861-05:00","created_by":"Kulesh Shanmugasundaram"}]}
{"id":"waypoints-6ow","title":"REF53-P5 add CI quality gates","description":"Phase 5: add CI workflows enforcing lint, mypy, pytest, and optionally scheduled flight tests.","status":"open","priority":1,"issue_type":"task","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-05T21:51:48.672921-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-05T21:52:06.901539-05:00","dependencies":[{"issue_id":"waypoints-6ow","depends_on_id":"waypoints-uqa","type":"blocks","created_at":"2026-02-05T21:52:23.416224-05:00","created_by":"Kulesh Shanmugasundaram"}]}
{"id":"waypoints-6zm","title":"Wire fly completion to Land transition","description":"Update fly.py to transition to LAND_REVIEW, add phase routing in app.py","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T01:01:07.113086-05:00","created_by":"kulesh","updated_at":"2026-01-11T01:06:14.802782-05:00","closed_at":"2026-01-11T01:06:14.802782-05:00","close_reason":"Fly completion now transitions to LAND_REVIEW and switches to Land screen","dependencies":[{"issue_id":"waypoints-6zm","depends_on_id":"waypoints-9ev","type":"blocks","created_at":"2026-01-11T01:01:12.377127-05:00","created_by":"kulesh"},{"issue_id":"waypoints-6zm","depends_on_id":"waypoints-14g","type":"blocks","created_at":"2026-01-11T01:01:12.469646-05:00","created_by":"kulesh"},{"issue_id":"waypoints-6zm","depends_on_id":"waypoints-jjs","type":"blocks","created_at":"2026-01-11T01:01:12.560691-05:00","created_by":"kulesh"}]}
{"id":"waypoints-77j","title":"Phase 6: Restore bd hygiene baseline","description":"Resolve bd doctor warnings and restore clean issue-tracking hygiene for worktree workflow.","notes":"Worktree baseline restored: bd doctor now reports valid DB version and repo fingerprint after metadata repair in .beads/beads.db. Remaining hard failure is Sync Divergence only, expected while .beads/issues.jsonl changes are uncommitted on this branch.","status":"closed","priority":2,"issue_type":"task","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-06T19:36:18.802989-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-06T19:59:59.362662-05:00","closed_at":"2026-02-06T19:59:45.277948-05:00","close_reason":"Restored beads hygiene baseline for this worktree: resolved legacy DB version/fingerprint metadata state, revalidated doctor, and reduced failures to sync-divergence-only pending commit of branch changes.","dependencies":[{"issue_id":"waypoints-77j","depends_on_id":"waypoints-w8w","type":"blocks","created_at":"2026-02-06T19:36:47.362563-05:00","created_by":"Kulesh Shanmugasundaram"}]}
{"id":"waypoints-7h4","title":"Phase 1: Refactor FlyScreen to UI-only orchestration boundary","description":"Refactor FlyScreen so business decisions and status mutations are fully delegated to orchestration APIs.","notes":"Completed slices: (1) FlyScreen intervention modal resolution now delegates status mutation + next-action selection through coordinator.handle_intervention(); (2) FlyScreen now uses fly_service/fly_presenter for selection/action-message/status-line composition to reduce UI-owned business branching. Remaining work: continue shrinking FlyScreen by extracting remaining orchestration-heavy paths.","status":"closed","priority":1,"issue_type":"feature","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-06T19:36:18.039307-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-06T19:49:52.73688-05:00","closed_at":"2026-02-06T19:49:52.73688-05:00","close_reason":"FlyScreen now routes selection/status messaging/intervention resolution through orchestration boundaries (coordinator + fly_service/fly_presenter), removing key UI-owned business mutations and branching.","dependencies":[{"issue_id":"waypoints-7h4","depends_on_id":"waypoints-30s","type":"blocks","created_at":"2026-02-06T19:36:46.772767-05:00","created_by":"Kulesh Shanmugasundaram"}]}
{"id":"waypoints-827","title":"REF53 epic: architecture and reliability refactor","description":"Umbrella epic for Refactor 5.3 to improve architecture boundaries, reliability, and automated quality enforcement without behavior regressions.","status":"open","priority":1,"issue_type":"epic","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-05T21:51:44.411656-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-05T21:52:02.840019-05:00"}
{"id":"waypoints-8w8","title":"Refactor: Clean TUI/Backend Separation","description":"## Problem\n\nThe TUI and backend (coordinator) have blurred responsibilities. Business logic that should be in the coordinator is scattered across TUI screens. This prevents:\n- Running Waypoints as a library (headless mode)\n- Building verification tools that use the same code paths\n- Clean testing of business logic\n\n## Current State (from exploration)\n\n### Methods That Raise NotImplementedError\n- `coordinator.generate_flight_plan()` - stub only\n- `coordinator.break_down_waypoint()` - stub only\n- `coordinator.start_qa_dialogue()` - stub only\n- `coordinator.continue_qa_dialogue()` - stub only\n\n### Business Logic in TUI (should be in coordinator)\n\n**ChartScreen (chart.py):**\n- `_generate_waypoints()` - LLM calls, JSON parsing, disk writes\n- `_generate_sub_waypoints()` - same pattern\n- `_generate_new_waypoint()` - same pattern\n- `_generate_reprioritization()` - same pattern\n- Prompts defined in TUI: `WAYPOINT_GENERATION_PROMPT`, `WAYPOINT_BREAKDOWN_PROMPT`, etc.\n\n**FlyScreen (fly.py):**\n- `_commit_waypoint()` - Git operations, receipt validation\n- `_save_flight_plan()` - Direct disk writes\n- `_mark_waypoint_failed()` - Status updates\n\n### Leaky Abstractions\n- TUI mutates private coordinator fields: `self._coordinator._flight_plan = ...`\n- TUI accesses private methods: `self.coordinator._check_parent_completion()`\n- Multiple persistence paths (TUI and coordinator both write flight plans)\n\n## Can We Run Full Lifecycle Without TUI?\n\n```\nSPARK  ‚úì Works programmatically\nSHAPE  ‚úó LLM logic in TUI screens\nCHART  ‚úó generate_flight_plan() not implemented\nFLY    ‚úì Works programmatically\n```\n\n## Target Architecture\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ            TUI Layer                    ‚îÇ\n‚îÇ  (Display, User Input, Navigation)      ‚îÇ\n‚îÇ  - No LLM calls                         ‚îÇ\n‚îÇ  - No direct disk I/O                   ‚îÇ\n‚îÇ  - No business logic                    ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n           ‚Üì calls public methods on ‚Üì\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ       JourneyCoordinator                ‚îÇ\n‚îÇ  (Business Logic, State Management)     ‚îÇ\n‚îÇ  - All LLM orchestration                ‚îÇ\n‚îÇ  - All prompts                          ‚îÇ\n‚îÇ  - All persistence                      ‚îÇ\n‚îÇ  - All state transitions                ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n           ‚Üì uses ‚Üì\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  Models, Services, LLM Clients          ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n## Success Criteria\n\n1. All phases (SPARK, SHAPE, CHART, FLY) runnable via coordinator methods\n2. TUI screens contain only UI logic (display, input handling)\n3. No private field access from TUI to coordinator\n4. Single persistence path through coordinator\n5. Prompts in a dedicated module, not TUI\n6. `waypoints run` CLI works for full lifecycle (not just FLY)\n\n## Pre-refactor Tag\n\n`pre-refactor-tui-backend` - created before refactoring begins","status":"closed","priority":1,"issue_type":"epic","owner":"test@waypoints.dev","created_at":"2026-01-18T20:35:53.210096-05:00","created_by":"Waypoints Test","updated_at":"2026-01-18T21:30:20.800573-05:00","closed_at":"2026-01-18T21:30:20.800573-05:00","close_reason":"All 6 phases complete: prompts module, SHAPE/CHART in coordinator, thin TUI, fixed abstractions, composable runners"}
{"id":"waypoints-927","title":"F10: Git commits and tags","description":"Git commit at phase transitions. Git tag when flight plan finalized. Descriptive, consistent messages.\n\n## Why This Matters\n- **Immutable log**: Git history becomes the authoritative record of project evolution\n- **Rewindability**: Can restore previous states if things go wrong\n- **Progress tracking**: Commits document the journey, not just the destination\n\n## Key Decisions Needed\n1. **Artifact storage locations**: Where do we store:\n   - Execution logs (per-waypoint, per-session)\n   - Project status/state files\n   - Generated documents (brief, spec, flight plan)\n   - LLM interaction logs (if any)\n\n2. **Commit strategy**:\n   - What triggers a commit? (phase transitions, waypoint completion, manual)\n   - What files go in each commit?\n   - Commit message format/convention\n\n3. **Tag strategy**:\n   - When to tag? (flight plan finalized, major milestones, releases)\n   - Tag naming convention\n\n## Implementation Notes\n- Handle edge cases: not a git repo, dirty working tree, conflicts\n- Consider: should waypoints init a git repo if none exists?\n- Consider: .gitignore for ephemeral files vs permanent artifacts","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T16:48:18.139641-05:00","created_by":"kulesh","updated_at":"2026-01-08T14:32:19.681526-05:00","closed_at":"2026-01-08T14:32:19.681526-05:00","close_reason":"Implemented git integration with receipt-based commit system","dependencies":[{"issue_id":"waypoints-927","depends_on_id":"waypoints-9rb","type":"blocks","created_at":"2026-01-07T16:49:49.360654-05:00","created_by":"kulesh"}]}
{"id":"waypoints-93m","title":"Live progress per acceptance criterion","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T17:52:17.301435-05:00","created_by":"kulesh","updated_at":"2026-01-09T22:02:54.470101-05:00","closed_at":"2026-01-09T22:02:54.470101-05:00","close_reason":"Implemented live criteria checkboxes with verification summary"}
{"id":"waypoints-9ev","title":"Land the Plane","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-11T01:00:59.989299-05:00","created_by":"kulesh","updated_at":"2026-01-11T01:06:45.458159-05:00","closed_at":"2026-01-11T01:06:45.458159-05:00","close_reason":"MVP Land phase complete - hub screen with Debrief, Ship, Iterate panels"}
{"id":"waypoints-9rb","title":"F8: State persistence","description":"All state survives app close/reopen: current phase, dialogue history, brief/spec docs, waypoints. Append-only JSONL for crash recovery.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T16:47:12.586233-05:00","created_by":"kulesh","updated_at":"2026-01-07T21:47:09.79787-05:00","closed_at":"2026-01-07T21:47:09.79787-05:00","close_reason":"Implemented in TUI: project creation, Q\u0026A dialogue, brief/spec generation, JSONL session persistence","dependencies":[{"issue_id":"waypoints-9rb","depends_on_id":"waypoints-5ln","type":"blocks","created_at":"2026-01-07T16:48:52.430211-05:00","created_by":"kulesh"}]}
{"id":"waypoints-ae9","title":"Document GenSpec schema and format","description":"Document the genspec.jsonl format for external consumers and internal reference.\n\n## Contents\n\n1. **JSONL Structure**\n   - Header line format (_schema, version, metadata)\n   - Entry types: step, decision, artifact\n\n2. **Artifact Types**\n   - IDEA_BRIEF: Markdown format, contents\n   - PRODUCT_SPEC: Markdown format, sections\n   - FLIGHT_PLAN: JSON structure, waypoint fields\n\n3. **Step Structure**\n   - StepInput: system_prompt, user_prompt, messages\n   - StepOutput: content, output_type\n   - StepMetadata: tokens, cost, latency, model\n\n4. **Phase Enum**\n   - SPARK, SHAPE_QA, SHAPE_BRIEF, SHAPE_SPEC, CHART, FLY\n   - What each phase represents\n\n5. **Version Compatibility**\n   - Current version\n   - Breaking vs non-breaking changes\n   - Migration guidance\n\n## Location\n\ndocs/genspec-format.md\n\n## Why\n\n- Genspecs are distributed instead of software\n- External consumers need to understand the format\n- Verification system depends on schema understanding\n- Enables tooling (validators, viewers, converters)","status":"closed","priority":2,"issue_type":"task","owner":"test@waypoints.dev","created_at":"2026-01-18T20:24:27.582573-05:00","created_by":"Waypoints Test","updated_at":"2026-01-20T19:05:35.628434-05:00","closed_at":"2026-01-20T19:05:35.628434-05:00","close_reason":"Closed"}
{"id":"waypoints-ai7","title":"FLY Phase: Stack-aware validation guidance","description":"Guide the AI model during FLY phase to run appropriate validation checks for the project's language stack.\n\n## Approach\n- Detect project stack from product spec or config\n- Inject prompts/guidance for model to run stack-appropriate checks:\n  - Python: pytest, ruff, mypy\n  - TypeScript/JS: npm test, eslint, tsc\n  - Go: go test, go vet\n  - Rust: cargo test, clippy\n  - etc.\n- Timing: before/during/after each waypoint execution\n\n## Layer 1 Validation\nThis is basic \"does it compile/lint/test\" validation - the first line of defense for generated code quality.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:44:01.450577-05:00","created_by":"kulesh","updated_at":"2026-01-16T17:43:40.240112-05:00","closed_at":"2026-01-16T17:43:40.240112-05:00","close_reason":"Stack-aware validation guidance implemented: detects stack from manifest files, injects concrete validation commands into prompts, supports overrides in checklist.yaml"}
{"id":"waypoints-ak8","title":"Flight Test Suite: L5 (Self-Hosting)","description":"Create the ultimate benchmark: can Waypoints build Waypoints? Define success criteria and expected outputs.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-08T16:44:01.043832-05:00","created_by":"kulesh","updated_at":"2026-01-15T14:59:30.079562-05:00","dependencies":[{"issue_id":"waypoints-ak8","depends_on_id":"waypoints-nou","type":"blocks","created_at":"2026-01-08T16:44:30.407613-05:00","created_by":"kulesh"}]}
{"id":"waypoints-b7w","title":"Receipts rely on model-emitted evidence instead of host-captured outputs","description":"Summary: Waypoint receipts are built from model-emitted \u003cvalidation\u003e and \u003cacceptance-criterion\u003e tags rather than host-captured command outputs. In the Anthropic path, tools are not executed at all; in the OpenAI path, tools are executed but we still trust only the model's emitted XML. This makes receipts non-authoritative and allows fabricated evidence to pass.\n\nContext / Findings:\n- Prompt () instructs the model to emit \u003cvalidation\u003e and \u003cacceptance-criterion\u003e blocks and a \u003cwaypoint-complete\u003e marker. It lists validation commands to run.\n- Executor () regex-parses those tags from streamed LLM text (VALIDATION_PATTERN, CRITERION_PATTERN) and feeds them into ReceiptBuilder.capture(...). No host-side stdout/stderr/exit-code capture is used.\n- Anthropic provider ( agent_query): yields StreamToolUse but never executes the tool calls, so the model can fabricate tags without real command output.\n- OpenAI provider ( agent_query): executes tools and feeds outputs back to the model, but the receipt still depends solely on model-emitted XML, not host-captured data.\n- Git commits/milestones may trust these receipts even if evidence is fabricated.\n\nImpact/Risk:\n- Model can emit \u003cvalidation\u003e / \u003cacceptance-criterion\u003e without actually running or succeeding commands; receipts can be valid with fake evidence. Anthropic path is especially at risk (no tool execution).\n\nSuggested Fix Direction:\n1) Host-capture stdout/stderr/exit code for validation commands (tests/lint/type/format) and feed that into ReceiptBuilder directly; don't rely on model-emitted tags as evidence.\n2) Execute tools in both providers; or refactor tool execution to a single host path and stream outputs to the model for interpretation only.\n3) Optionally re-run a minimal host validation after completion marker and require host evidence before accepting receipts/commits.\n4) Treat model-emitted XML as interpretive, not authoritative; receipts should be grounded in host evidence.","status":"closed","priority":1,"issue_type":"bug","owner":"test@waypoints.dev","created_at":"2026-01-18T23:39:56.61328-05:00","created_by":"Waypoints Test","updated_at":"2026-01-19T00:53:40.209511-05:00","closed_at":"2026-01-19T00:53:40.209511-05:00","close_reason":"Closed"}
{"id":"waypoints-bl0","title":"Phase 4: Raise verify and runners confidence with tests or deprecation","description":"Increase confidence in verify/runners paths by adding deterministic tests or formally deprecating unsupported runners.","notes":"Added deterministic tests for verify and runner surfaces: tests/test_verify_models_compare.py, tests/test_verify_orchestrator.py, and tests/test_runners_entrypoints.py. This establishes executable confidence for previously untested verify/runners paths without live LLM dependencies.","status":"closed","priority":2,"issue_type":"feature","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-06T19:36:18.487645-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-06T19:53:56.975563-05:00","closed_at":"2026-02-06T19:53:56.975563-05:00","close_reason":"verify/ and runners paths now have deterministic test coverage and pass in full suite.","dependencies":[{"issue_id":"waypoints-bl0","depends_on_id":"waypoints-08q","type":"blocks","created_at":"2026-02-06T19:36:47.13592-05:00","created_by":"Kulesh Shanmugasundaram"}]}
{"id":"waypoints-cmm","title":"Intervention suggestions when AI is stuck","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T17:52:50.301089-05:00","created_by":"kulesh","updated_at":"2026-01-10T22:25:59.841791-05:00","closed_at":"2026-01-10T22:25:59.841791-05:00","close_reason":"Already implemented: InterventionModal shows suggested actions"}
{"id":"waypoints-cnu","title":"Ensure host-run validation of lint/test/type/format","description":"Summary: Final validation should be host-run and host-captured (tests/lint/type/format) rather than relying on agent-reported markers. This complements waypoints-b7w (receipts currently rely on model-emitted evidence).\n\nContext:\n- Current execution trusts model-emitted \u003cvalidation\u003e/\u003cacceptance-criterion\u003e tags (see waypoints-b7w). If the agent skips or fabricates results, no host-run validations are guaranteed.\n- Even after fixing receipts to capture host outputs, a post-autopilot host validation pass can serve as a belt-and-suspenders check to ensure required commands ran and passed.\n\nProposal:\n1) After autopilot signals completion, run stack-appropriate validation commands on the host (from fly/stack detection and/or checklist overrides).\n2) Capture stdout/stderr/exit codes and feed into ReceiptBuilder as authoritative evidence.\n3) If any host validation fails, mark the waypoint/flight as failed and require retry/intervention; block commit.\n4) Optionally log the resolved commands and results to execution logs for observability.\n\nRelation: Should depend on waypoints-b7w (receipts rely on model-emitted evidence) because host-run validation uses the same host-captured evidence pathway.","status":"closed","priority":2,"issue_type":"bug","owner":"test@waypoints.dev","created_at":"2026-01-18T23:43:37.556616-05:00","created_by":"Waypoints Test","updated_at":"2026-01-19T10:17:04.335924-05:00","closed_at":"2026-01-19T10:17:04.335924-05:00","close_reason":"Closed","dependencies":[{"issue_id":"waypoints-cnu","depends_on_id":"waypoints-b7w","type":"blocks","created_at":"2026-01-18T23:44:05.507766-05:00","created_by":"Waypoints Test"}]}
{"id":"waypoints-cpm","title":"Host validation timeout too short for cold Rust builds","description":"WP-002 and WP-011 in kodkod-20260120191727 show clippy stderr truncated mid-compilation (exit 101). The 300s timeout in run_validation_commands is insufficient for cold Rust builds with many dependencies. Current design uses a single hardcoded timeout. Should be managed by a centralized timeout module with exponential backoff rather than a fixed ceiling.","status":"closed","priority":2,"issue_type":"bug","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-06T16:03:25.876663-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-07T02:04:04.319924-05:00","closed_at":"2026-02-07T02:04:04.319924-05:00","close_reason":"Implemented centralized timeout policies with backoff/signaling; validated host Rust clippy run under 900s policy without timeout","comments":[{"id":8,"issue_id":"waypoints-cpm","author":"Kulesh Shanmugasundaram","text":"Implemented the centralized timeout strategy and completed runtime validation evidence.\n\nDelivered work:\n- PR #19 (merged): central timeout subsystem (`timeout_policy`, `command_runner`, exponential backoff, signal escalation), plus host validation/LLM bash/flight-test/git-probe integrations.\n- PR #20 (merged): persistent timeout history at XDG state path.\n- PR #21 (merged): timeout lifecycle visibility in logs/Fly panel (`warning`, `terminate`, `kill`, `retry`).\n- PR #22 (merged): `GitService` migrated to centralized timeout runner (`git_operation` domain).\n\nCold-ish Rust validation proof run (2026-02-07):\n- Target: `/Users/kulesh/dev/flight-test/projects/actuator/canopy`\n- Command path: `CommandRunner` with `TimeoutDomain.HOST_VALIDATION`\n- Command: `cargo clean \u0026\u0026 cargo clippy -- -D warnings`\n- Result:\n  - exit_code=0\n  - timed_out=false\n  - attempts=1\n  - final_timeout_seconds=900.0\n  - total_duration_seconds=25.08\n  - signals=(none)\n  - timeout_events=0\n\nThis addresses the original failure mode: single hardcoded 300s timeout replaced with centralized policy + adaptive history + backoff + explicit lifecycle signaling.\n","created_at":"2026-02-07T07:04:04Z"}]}
{"id":"waypoints-d0j","title":"P0: Intervention Protocol","description":"Modal UI when WaypointExecutor fails (MAX_ITERATIONS, test failure, etc). Options: Retry, Skip, Edit waypoint, Rollback to safe tag, Abort. Prevents lost work and builds user trust. See docs/architecture-roadmap.md for full spec.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-08T19:39:12.698274-05:00","created_by":"kulesh","updated_at":"2026-01-09T13:05:10.035068-05:00","closed_at":"2026-01-09T13:05:10.035068-05:00","close_reason":"Implemented intervention protocol with modal UI, executor integration, and 17 passing tests. Features: InterventionType enum (7 types), InterventionAction enum (5 actions), InterventionModal screen, executor raises InterventionNeededError, fly screen catches and handles all 5 action types.","dependencies":[{"issue_id":"waypoints-d0j","depends_on_id":"waypoints-4kn","type":"blocks","created_at":"2026-01-08T19:39:36.518382-05:00","created_by":"kulesh"}]}
{"id":"waypoints-d62","title":"Resume paused execution","description":"Currently pressing 'r' when paused does nothing. Need to implement resume functionality to continue executing remaining waypoints from where we left off.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T01:55:22.305769-05:00","created_by":"kulesh","updated_at":"2026-01-08T02:04:52.6181-05:00","closed_at":"2026-01-08T02:04:52.6181-05:00","close_reason":"Implemented resume functionality"}
{"id":"waypoints-dqc","title":"Git panel toggle on Fly screen","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-09T17:53:04.08015-05:00","created_by":"kulesh","updated_at":"2026-01-09T17:53:04.08015-05:00"}
{"id":"waypoints-e2t","title":"CHART Phase: Waypoint Generation \u0026 Manipulation","description":"Decompose spec into executable waypoints. User can adjust the flight plan.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T16:46:46.302996-05:00","created_by":"kulesh","updated_at":"2026-01-08T00:11:59.006439-05:00","closed_at":"2026-01-08T00:11:59.006439-05:00","close_reason":"Completed: waypoint generation, edit, delete, break down, and UI polish"}
{"id":"waypoints-eav","title":"REF53-P1 extract fly service layer","description":"Phase 1: extract non-UI FLY orchestration/presentation logic from FlyScreen into orchestration services with tests-first slices.","notes":"Progress on refactor-5.3 (2026-02-06): completed Slice 1 (state message presenter extraction), Slice 2 (coordinator success-action reliability fix), Slice 3 (FlyService extraction for next-waypoint action decisions). Full gates currently green: ruff, mypy, pytest (531 passing).","status":"closed","priority":1,"issue_type":"task","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-05T21:51:45.435243-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-06T18:32:19.337324-05:00","closed_at":"2026-02-06T18:32:19.337324-05:00","close_reason":"Completed all 4 phases: FlyScreen delegation, executor decomposition, modal base class, documentation","comments":[{"id":1,"issue_id":"waypoints-eav","author":"Kulesh Shanmugasundaram","text":"Slice 4 complete (2026-02-06 UTC): extracted non-success execution-result policy into fly_service via ExecutionFailurePolicy + resolve_non_success_result(); FlyScreen now delegates non-success result handling. Added 4 regression tests in tests/test_fly_service.py for INTERVENTION_NEEDED/MAX_ITERATIONS/CANCELLED/fallback failure. Full gates green via scripts/verify_refactor53.sh: ruff pass, mypy pass (95 files), pytest 538 passed, coverage 39%.","created_at":"2026-02-06T03:00:28Z"},{"id":2,"issue_id":"waypoints-eav","author":"Kulesh Shanmugasundaram","text":"Slice 5 complete (2026-02-06 UTC): fixed coordinator intervention SKIP reliability bug. handle_intervention(SKIP) now reuses _next_action_after_success so skip no longer reports complete when failed/blocked work remains. Added TestHandleIntervention coverage in tests/test_coordinator.py (blocked -\u003e pause, all done -\u003e complete with message). Full gates green: ruff pass, mypy pass (95 files), pytest 540 passed, coverage 39%.","created_at":"2026-02-06T03:02:13Z"},{"id":3,"issue_id":"waypoints-eav","author":"Kulesh Shanmugasundaram","text":"Slice 6 complete (2026-02-06 UTC): started Phase 2 capability extraction by moving completion-status computation out of JourneyCoordinator into new module src/waypoints/orchestration/coordinator_fly.py (build_completion_status). JourneyCoordinator now delegates get_completion_status(). Added tests/test_coordinator_fly.py for missing-plan, skipped-as-complete, and blocked/pending/failed/in-progress classification. Full gates green: ruff pass, mypy pass (96 files), pytest 543 passed, coverage 39%.","created_at":"2026-02-06T03:03:58Z"},{"id":5,"issue_id":"waypoints-eav","author":"Kulesh Shanmugasundaram","text":"Slice 7 complete (2026-02-06 UTC): extracted waypoint selection and post-success next-action policy from JourneyCoordinator into coordinator_fly module (select_next_waypoint_candidate + build_next_action_after_success). JourneyCoordinator now delegates these behaviors. Added/expanded tests in tests/test_coordinator_fly.py for dependency-aware selection, include_failed resume, epic readiness, and action mapping. Full gates green: ruff pass, mypy pass (96 files), pytest 549 passed, coverage 39%.","created_at":"2026-02-06T03:10:08Z"},{"id":6,"issue_id":"waypoints-eav","author":"Kulesh Shanmugasundaram","text":"Continued refactor progression (2026-02-06 UTC): decomposition work is now centered in REF53-P2; coordinator fly capability extraction has reduced coordinator LOC and moved decision logic into coordinator_fly module with tests-first slices and green gates.","created_at":"2026-02-06T03:12:21Z"}]}
{"id":"waypoints-ecu","title":"Architecture Improvements: Reliability, Robustness, Observability","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-08T19:38:49.435534-05:00","created_by":"kulesh","updated_at":"2026-01-10T22:18:50.894523-05:00","closed_at":"2026-01-10T22:18:50.894523-05:00","close_reason":"All architecture improvements complete: state machine, intervention, paths, schema versioning, validation, orchestration","dependencies":[{"issue_id":"waypoints-ecu","depends_on_id":"waypoints-4kn","type":"blocks","created_at":"2026-01-08T19:40:04.757095-05:00","created_by":"kulesh"},{"issue_id":"waypoints-ecu","depends_on_id":"waypoints-d0j","type":"blocks","created_at":"2026-01-08T19:40:04.830092-05:00","created_by":"kulesh"},{"issue_id":"waypoints-ecu","depends_on_id":"waypoints-4di","type":"blocks","created_at":"2026-01-08T19:40:04.902839-05:00","created_by":"kulesh"},{"issue_id":"waypoints-ecu","depends_on_id":"waypoints-f0p","type":"blocks","created_at":"2026-01-08T19:40:04.974088-05:00","created_by":"kulesh"},{"issue_id":"waypoints-ecu","depends_on_id":"waypoints-hpo","type":"blocks","created_at":"2026-01-08T19:40:05.044591-05:00","created_by":"kulesh"},{"issue_id":"waypoints-ecu","depends_on_id":"waypoints-15q","type":"blocks","created_at":"2026-01-08T19:40:05.115774-05:00","created_by":"kulesh"},{"issue_id":"waypoints-ecu","depends_on_id":"waypoints-vku","type":"blocks","created_at":"2026-01-08T19:40:05.1944-05:00","created_by":"kulesh"},{"issue_id":"waypoints-ecu","depends_on_id":"waypoints-zgf","type":"blocks","created_at":"2026-01-08T19:40:05.275319-05:00","created_by":"kulesh"}]}
{"id":"waypoints-end","title":"SHAPE Phase: Q\u0026A Dialogue \u0026 Brief Generation","description":"Socratic dialogue to crystallize ideas into briefs and specs. Core value proposition.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-07T16:46:41.043783-05:00","created_by":"kulesh","updated_at":"2026-01-07T21:47:19.383099-05:00","closed_at":"2026-01-07T21:47:19.383099-05:00","close_reason":"All child tasks completed"}
{"id":"waypoints-eph","title":"Support genspec bundle import (CLI + TUI)","description":"Allow .genspec.zip bundles to be imported via CLI and TUI. Importer should read embedded genspec.jsonl (and metadata if present).","status":"closed","priority":2,"issue_type":"feature","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-04T17:16:57.075911-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-04T17:17:14.118711-05:00","closed_at":"2026-02-04T17:17:14.118731-05:00"}
{"id":"waypoints-f0p","title":"P1: Schema Versioning for JSONL","description":"Add version header to all JSONL files (session, flight-plan, execution-log, metrics). Validate on load. Migration framework for format changes. Treats legacy files as v0. See docs/architecture-roadmap.md for full spec.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T19:39:13.025632-05:00","created_by":"kulesh","updated_at":"2026-01-10T21:38:47.617738-05:00","closed_at":"2026-01-10T21:38:47.617738-05:00","close_reason":"Schema versioning implemented with migration framework"}
{"id":"waypoints-fb1","title":"Executor ignores finalizer verdict, marks waypoint complete on failed receipt","description":"When finalizer.finalize() returns False (e.g. cargo clippy fails), the executor logs a warning but still returns ExecutionResult.SUCCESS. FlyPhase then unconditionally marks the waypoint COMPLETE. This means host validation failures are recorded but never acted on ‚Äî the model never gets a chance to fix the issues the finalizer caught.\n\nEvidence: kodkod-20260120191727 WP-011 and WP-012 both have failed linting receipts (clippy warnings promoted to errors by -D warnings) yet both waypoints are marked COMPLETE.\n\nFix: When finalize() returns False, don't return ExecutionResult.SUCCESS. Instead, continue the iteration loop with the failure evidence (command, exit code, stderr from the receipt's failed checklist items) injected into the next prompt. The model gets a concrete, actionable signal ‚Äî e.g. 'host validation failed: cargo clippy -- -D warnings exited 101, stderr: unused-assignments in validator.rs:90' ‚Äî and can fix the issue. The iteration loop and finalize infrastructure already exist; the missing piece is the feedback path between them.","status":"closed","priority":1,"issue_type":"bug","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-06T16:15:53.88044-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-06T17:35:19.10246-05:00","closed_at":"2026-02-06T17:35:19.10246-05:00","close_reason":"Closed"}
{"id":"waypoints-fos","title":"F2: Idea entry screen (SPARK)","description":"Single text input for idea. Ideas stored immediately. Recent projects visible. Transition to SHAPE on Begin Journey.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T16:47:32.534413-05:00","created_by":"kulesh","updated_at":"2026-01-07T17:49:42.78897-05:00","closed_at":"2026-01-07T17:49:42.78897-05:00","close_reason":"Implemented SPARK screen and Agent SDK integration","dependencies":[{"issue_id":"waypoints-fos","depends_on_id":"waypoints-5ln","type":"blocks","created_at":"2026-01-07T16:48:57.667997-05:00","created_by":"kulesh"},{"issue_id":"waypoints-fos","depends_on_id":"waypoints-6b5","type":"blocks","created_at":"2026-01-07T16:49:02.85043-05:00","created_by":"kulesh"}]}
{"id":"waypoints-g0x","title":"Agent mentions in documents (@agent instructions)","description":"Add support for @agent-name mentions in project documents (product spec, idea brief, etc.) that allow users to leave inline instructions for the AI agent.\n\n**Example:**\nIn a product spec section:\n```\n## API Design\n@dianne: please expand this section with REST endpoint examples\n```\n\n**Use cases:**\n- Leave TODOs for the agent to address during generation/refinement\n- Request expansion of specific sections\n- Ask for clarification or alternatives\n- Guide the agent's focus during iterative refinement\n\n**Considerations:**\n- Agent name could be configurable (default: \"waypoints\" or phase-specific like \"dianne\" for spec)\n- Mentions should be parsed and acted upon during document generation\n- Could show unresolved mentions in the UI\n- Mentions could be removed or marked resolved after being addressed","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-11T02:29:22.348389-05:00","created_by":"kulesh","updated_at":"2026-01-11T23:16:56.92803-05:00","closed_at":"2026-01-11T23:16:56.92803-05:00","close_reason":"Implemented @waypoints mentions feature: parsing, LLM processing, comment logging, document versioning. Integrated into IdeaBriefResumeScreen and ProductSpecResumeScreen."}
{"id":"waypoints-gj2","title":"REF53-P0 stabilize quality gates and baseline","description":"Phase 0: restore green lint/type/test gates, add repeatable verification script, and capture baseline metrics in docs.","status":"closed","priority":1,"issue_type":"task","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-05T21:51:44.762003-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-05T21:52:09.199045-05:00","closed_at":"2026-02-05T21:52:09.199045-05:00","close_reason":"Completed on refactor-5.3: fixed gate breakage, added scripts/verify_refactor53.sh, and recorded baseline actuals in docs/codex53-refactor-02052026.md"}
{"id":"waypoints-gne","title":"Quick key to open modified files in editor","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T17:53:02.553628-05:00","created_by":"kulesh","updated_at":"2026-01-10T22:25:59.946534-05:00","closed_at":"2026-01-10T22:25:59.946534-05:00","close_reason":"Already implemented: clickable file paths + 'e' to edit in preview"}
{"id":"waypoints-gvh","title":"Spec fallback adds cross-stack validations when stack unknown","description":"When running fly before stack markers exist, the executor falls back to spec-based stack hints and queues multiple validation commands (e.g., npm/go/python/rust). These then fail and mark receipts as failed. Track and refine fallback so it doesn't add unrelated validations or can be constrained early in empty projects.","status":"open","priority":3,"issue_type":"bug","owner":"test@waypoints.dev","created_at":"2026-01-19T13:52:16.91944-05:00","created_by":"Waypoints Test","updated_at":"2026-01-19T13:52:16.91944-05:00"}
{"id":"waypoints-hpo","title":"P1: LLM Output Validation","description":"JSON schema validation for waypoint generation. Semantic validation (IDs, parent refs, dependencies, cycles). Auto-repair prompting when validation fails (max 2 attempts). See docs/architecture-roadmap.md for full spec.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T19:39:13.181778-05:00","created_by":"kulesh","updated_at":"2026-01-10T22:09:27.460523-05:00","closed_at":"2026-01-10T22:09:27.460523-05:00","close_reason":"Validation implemented with schema + semantic checks"}
{"id":"waypoints-jc2","title":"Host validation commands fail when tools are in mise env","description":"During fly finalize, validation commands (cargo test/clippy/fmt) return 127 because PATH lacks mise-managed tool shims. Ensure host validation uses the same environment the agent has (e.g., PATH from mise activate), instead of a blank environment, so installed toolchains are found.","status":"open","priority":2,"issue_type":"bug","owner":"test@waypoints.dev","created_at":"2026-01-19T12:47:40.516896-05:00","created_by":"Waypoints Test","updated_at":"2026-01-19T12:47:40.516896-05:00"}
{"id":"waypoints-jjs","title":"Land Hub Screen - Debrief, Ship, Iterate panels","description":"Create land.py with three-panel hub layout: Debrief (stats, issues), Ship (changelog, git tag), Iterate (V2, close)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T01:01:06.985432-05:00","created_by":"kulesh","updated_at":"2026-01-11T01:06:14.686311-05:00","closed_at":"2026-01-11T01:06:14.686311-05:00","close_reason":"Created Land hub screen with Debrief, Ship, Iterate panels","dependencies":[{"issue_id":"waypoints-jjs","depends_on_id":"waypoints-9ev","type":"blocks","created_at":"2026-01-11T01:01:12.27981-05:00","created_by":"kulesh"}]}
{"id":"waypoints-kef","title":"Smooth GenSpec Publishing \u0026 Consumption","status":"closed","priority":1,"issue_type":"epic","owner":"test@waypoints.dev","created_at":"2026-01-17T12:14:45.721527-05:00","created_by":"Waypoints Test","updated_at":"2026-01-17T19:27:32.611023-05:00","closed_at":"2026-01-17T19:27:32.611023-05:00","close_reason":"All P1-P3 subtasks complete: import modal, validation, execute after import, export file picker, spec preview, headless CLI, cost tracking","dependencies":[{"issue_id":"waypoints-kef","depends_on_id":"waypoints-r14","type":"blocks","created_at":"2026-01-17T12:15:19.141421-05:00","created_by":"Waypoints Test"},{"issue_id":"waypoints-kef","depends_on_id":"waypoints-sgt","type":"blocks","created_at":"2026-01-17T12:15:19.335191-05:00","created_by":"Waypoints Test"},{"issue_id":"waypoints-kef","depends_on_id":"waypoints-xrm","type":"blocks","created_at":"2026-01-17T12:15:19.53083-05:00","created_by":"Waypoints Test"},{"issue_id":"waypoints-kef","depends_on_id":"waypoints-3fg","type":"blocks","created_at":"2026-01-17T12:15:19.709219-05:00","created_by":"Waypoints Test"},{"issue_id":"waypoints-kef","depends_on_id":"waypoints-1ol","type":"blocks","created_at":"2026-01-17T12:15:19.877362-05:00","created_by":"Waypoints Test"},{"issue_id":"waypoints-kef","depends_on_id":"waypoints-mfj","type":"blocks","created_at":"2026-01-17T12:15:20.041773-05:00","created_by":"Waypoints Test"},{"issue_id":"waypoints-kef","depends_on_id":"waypoints-twt","type":"blocks","created_at":"2026-01-17T15:10:59.226548-05:00","created_by":"Waypoints Test"}]}
{"id":"waypoints-kh9","title":"Surface host validation mode in UI and logs","description":"When HostVal is toggled, the current mode is only lightly visible (log line at start, receipt skips). Add a clear UI indicator (badge in Fly footer/status bar) and mark execution headers/log entries so users can see host validations are ON/OFF during a run.","status":"open","priority":3,"issue_type":"feature","owner":"test@waypoints.dev","created_at":"2026-01-19T15:40:06.407472-05:00","created_by":"Waypoints Test","updated_at":"2026-01-19T15:40:06.407472-05:00"}
{"id":"waypoints-kzn","title":"Live diff panel toggle on Fly screen","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-09T17:52:33.656731-05:00","created_by":"kulesh","updated_at":"2026-01-09T17:52:33.656731-05:00"}
{"id":"waypoints-ld7","title":"F6: Waypoint generation (CHART)","description":"AI generates waypoints from spec. Each has ID, title, objective, acceptance criteria, deps. Multi-hop for epics. No cycles. Stored in flight-plan.jsonl","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T16:48:02.350999-05:00","created_by":"kulesh","updated_at":"2026-01-07T22:09:44.458807-05:00","closed_at":"2026-01-07T22:09:44.458807-05:00","close_reason":"Implemented ChartScreen with LLM waypoint generation, two-panel UI, keyboard navigation, detail modal, and JSONL persistence","dependencies":[{"issue_id":"waypoints-ld7","depends_on_id":"waypoints-5ot","type":"blocks","created_at":"2026-01-07T16:49:33.771263-05:00","created_by":"kulesh"}]}
{"id":"waypoints-mfj","title":"Fix regenerate cost tracking + progress","description":"Track actual costs during regeneration (currently hardcoded to 0). Show progress in modal: which phase is regenerating, token/cost accumulation, cancel button.","status":"closed","priority":3,"issue_type":"task","owner":"test@waypoints.dev","created_at":"2026-01-17T12:15:04.84315-05:00","created_by":"Waypoints Test","updated_at":"2026-01-17T16:14:23.607763-05:00","closed_at":"2026-01-17T16:14:23.607763-05:00","close_reason":"Closed"}
{"id":"waypoints-nou","title":"Flight Test Suite: L2-L4 (API, TUI, LLM)","description":"Implement L2 (REST API), L3 (TUI application), and L4 (LLM integration) benchmarks.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-08T16:44:00.850297-05:00","created_by":"kulesh","updated_at":"2026-01-15T14:59:29.941045-05:00","dependencies":[{"issue_id":"waypoints-nou","depends_on_id":"waypoints-sm0","type":"blocks","created_at":"2026-01-08T16:44:30.330536-05:00","created_by":"kulesh"}]}
{"id":"waypoints-o9c","title":"Run Phase 1 self-hosting test (Waypoints builds Waypoints)","description":"Run Waypoints manually through TUI to build itself. Use review checklist at benchmarks/self-host/review-checklist.md. Must run in isolated directory ~/benchmarks/waypoints-self-host/ - NOT in dev tree!","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T17:12:11.768064-05:00","created_by":"kulesh","updated_at":"2026-01-08T17:12:11.768064-05:00"}
{"id":"waypoints-p3l","title":"Quality Gates: LLM-as-Judge Implementation","description":"Implement LLM-as-judge evaluation for idea briefs, product specs, and generated code. Create scoring prompts and quality checkpoint system.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-08T16:44:01.252465-05:00","created_by":"kulesh","updated_at":"2026-01-10T22:45:45.388813-05:00"}
{"id":"waypoints-pg1","title":"Anthropic Agent SDK integration","description":"Set up Claude API client using Anthropic Agent SDK. Handle API key config. Basic conversation loop for Q\u0026A.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T16:48:28.956819-05:00","created_by":"kulesh","updated_at":"2026-01-07T17:49:42.790357-05:00","closed_at":"2026-01-07T17:49:42.790357-05:00","close_reason":"Implemented SPARK screen and Agent SDK integration"}
{"id":"waypoints-pg7","title":"GenSpec viewer panel in TUI (optional)","description":"Optional TUI panel to browse genspec bundles: metadata, artifacts, and step history. Useful for human review but not required for automation.","status":"open","priority":3,"issue_type":"feature","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-04T16:03:31.191453-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-04T16:03:31.191453-05:00","dependencies":[{"issue_id":"waypoints-pg7","depends_on_id":"waypoints-08j","type":"blocks","created_at":"2026-02-04T16:03:39.585361-05:00","created_by":"Kulesh Shanmugasundaram"}]}
{"id":"waypoints-pho","title":"Implement OpenAI session continuation across waypoint iterations","status":"closed","priority":2,"issue_type":"task","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-06T17:39:00.524549-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-06T17:39:31.965886-05:00","closed_at":"2026-02-06T17:39:31.965886-05:00","close_reason":"Closed"}
{"id":"waypoints-pqm","title":"F9: Document editing via $EDITOR","description":"e key opens doc in $EDITOR. Changes saved on close. App refreshes display after edit.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-07T16:48:12.879669-05:00","created_by":"kulesh","updated_at":"2026-01-10T20:38:44.138846-05:00","closed_at":"2026-01-10T20:38:44.138846-05:00","close_reason":"Implemented 'e' key for vim editing on Product Spec, Idea Brief, and Waypoints","dependencies":[{"issue_id":"waypoints-pqm","depends_on_id":"waypoints-5ln","type":"blocks","created_at":"2026-01-07T16:49:44.182366-05:00","created_by":"kulesh"}]}
{"id":"waypoints-qp6","title":"Fix tool-call name mapping so Bash/Read/Write/Glob work","description":"Agent tool calls in fly phase fail with 'Unknown tool: Bash/Read/Write/Glob' because execute_tool only recognizes lowercase names (read_file/write_file/edit_file/bash/glob/grep). Update provider/executor to normalize tool names before calling execute_tool so model tool calls actually execute.","status":"closed","priority":2,"issue_type":"bug","owner":"test@waypoints.dev","created_at":"2026-01-19T12:47:25.000416-05:00","created_by":"Waypoints Test","updated_at":"2026-01-19T21:29:42.396108-05:00","closed_at":"2026-01-19T21:29:42.396108-05:00","close_reason":"Closed"}
{"id":"waypoints-r14","title":"Import action + modal in project selection","description":"Add 'i' binding to project selection screen with ImportRecipeModal. Modal shows file path input, spec preview, and mode selector (Run Now / Review First).","status":"closed","priority":1,"issue_type":"task","owner":"test@waypoints.dev","created_at":"2026-01-17T12:15:01.261668-05:00","created_by":"Waypoints Test","updated_at":"2026-01-17T12:45:35.283492-05:00","closed_at":"2026-01-17T12:45:35.283492-05:00","close_reason":"Implemented import UI, validation, and journey state setup"}
{"id":"waypoints-rxi","title":"GenSpec Verification System","description":"## Purpose\n\nVerify that genspecs produce reproducible, functionally equivalent products. This is critical for trust in the Waypoints method - if we distribute genspecs instead of software, users must trust that models can reliably reproduce the same product.\n\n**This is a developer QA tool for Waypoints development, not an end-user feature.**\n\n## Core Principle\n\nNo lazy assumptions like \"should be equivalent.\" Everything must be verified and certified.\n\n## V1 Verification Pipeline\n\n```\nInput (fixed): Idea Brief\n    ‚Üì\nGenerate: Product Spec ‚Üí Compare to reference Product Spec (LLM judge)\n    ‚Üì\nGenerate: Flight Plan ‚Üí Compare to reference Flight Plan (LLM judge)\n    ‚Üì\nGenerate: Waypoints ‚Üí Compare to reference Waypoints\n    ‚Üì\nRun: Fly stage ‚Üí Compare resulting product to reference product\n```\n\n### Why start from Idea Brief?\n- Idea Brief is generated through Q\u0026A with the user\n- Human Q\u0026A introduces variance we can't control\n- Starting from Idea Brief as fixed input eliminates this variance\n\n### Artifact Comparison (Steps 1-3)\n- Use LLM judge for semantic comparison\n- Ask: \"Will a human/LLM reading both artifacts come away with same understanding?\"\n- Product Spec: Same features, requirements, user stories?\n- Flight Plan: Same waypoints (by objective), same acceptance criteria?\n\n### Product Comparison (Step 4) - The Hard Problem\nHow do you verify a Rust blog engine equals a Python blog engine?\n\n**V1 Approach - Test at Product Boundary:**\n1. Extract acceptance criteria from waypoints (already specified)\n2. Have a model generate a test suite from acceptance criteria\n   - CRITICAL: Generated independently, no knowledge of implementation\n   - Tests target observable interfaces (HTTP API, CLI, UI)\n   - Same tests run against any implementation regardless of language\n3. Run test suite against Implementation A (original)\n4. Run test suite against Implementation B (regenerated)\n5. Compare test results - if both pass same tests, they're functionally equivalent\n\n**Example:**\n```\nAcceptance Criteria: \"User can create a blog post\"\n    ‚Üì\nGenerated Test: \n  POST /api/posts {\"title\": \"Hello\", \"body\": \"World\"}\n  ‚Üí expect 201, response contains post ID\n    ‚Üì\nRuns against: Rust server on :8080, Python server on :8081\nSame test, same expectations.\n```\n\n**V1 Scope:** Focus on HTTP/CLI products (testable at boundary). Punt on library-style products.\n\n## CLI Interface\n\n```bash\nwaypoints verify \u003cgenspec-file\u003e [options]\n\nOptions:\n  --output \u003cdir\u003e       Output directory for reports\n  --skip-fly           Skip fly stage (compare artifacts only)\n  --tech-stack \u003cname\u003e  Tech stack for regeneration\n  --verbose            Show detailed progress\n```\n\n## Requirements\n\n- **CRITICAL: Must use exact same code paths as Waypoints** - no reimplementation\n- Verification tool = thin orchestration layer + comparison logic\n- Automated pass/fail verdict\n- Human-reviewable detailed output\n- CI-friendly (exit codes, structured output)\n\n## Blockers Discovered\n\n**Architecture Issue:** TUI/backend separation is not clean. Cannot run full lifecycle without TUI because:\n- `generate_flight_plan()` raises NotImplementedError\n- `break_down_waypoint()` raises NotImplementedError  \n- LLM prompts defined in TUI screens (chart.py), not coordinator\n- TUI directly calls LLM, reads/writes disk, manages state\n\n**Resolution Required:** Refactor Waypoints to have clean TUI/backend separation before building verification. See linked refactoring issue.\n\n## Future Considerations\n\n- Continuous verification (CI against corpus of known-good genspecs)\n- Regression detection when model or code changes\n- Confidence scoring for semantic comparisons\n- Cross-tech-stack comparison (V2)","status":"closed","priority":2,"issue_type":"epic","owner":"test@waypoints.dev","created_at":"2026-01-18T20:05:04.176267-05:00","created_by":"Waypoints Test","updated_at":"2026-02-10T19:50:03.187619-05:00","closed_at":"2026-02-10T19:50:03.187619-05:00","close_reason":"Implemented V1 execution comparison: bootstrap and verify now run fly execution (when not --skip-fly), persist execution-summary snapshots, compare waypoint outcomes and product file manifests, and report execution_comparison verdicts with tests.","dependencies":[{"issue_id":"waypoints-rxi","depends_on_id":"waypoints-ae9","type":"blocks","created_at":"2026-01-18T20:24:32.227456-05:00","created_by":"Waypoints Test"},{"issue_id":"waypoints-rxi","depends_on_id":"waypoints-8w8","type":"blocks","created_at":"2026-01-18T20:35:57.755621-05:00","created_by":"Waypoints Test"}],"comments":[{"id":10,"issue_id":"waypoints-rxi","author":"Kulesh Shanmugasundaram","text":"Cross-check 2026-02-10: verify pipeline exists (cmd_verify -\u003e verify.orchestrator), spec+plan comparison implemented and tested. Remaining gap vs epic scope: execution/product-boundary comparison is still not implemented ( reports execution step skipped). Keeping IN_PROGRESS is accurate.","created_at":"2026-02-10T21:21:54Z"},{"id":11,"issue_id":"waypoints-rxi","author":"Kulesh Shanmugasundaram","text":"Clarification: the skipped execution note is in src/waypoints/verify/orchestrator.py (execution step currently marked not implemented in V1).","created_at":"2026-02-10T21:22:04Z"}]}
{"id":"waypoints-sgt","title":"Validate waypoint structure before import","description":"Add validation in importer.py: check waypoint JSON structure, verify required fields, detect circular dependencies, verify parent references exist. Return structured validation result with warnings/errors.","status":"closed","priority":1,"issue_type":"task","owner":"test@waypoints.dev","created_at":"2026-01-17T12:15:01.498272-05:00","created_by":"Waypoints Test","updated_at":"2026-01-17T12:45:35.286492-05:00","closed_at":"2026-01-17T12:45:35.286492-05:00","close_reason":"Implemented import UI, validation, and journey state setup"}
{"id":"waypoints-sm0","title":"Flight Test Suite: L0-L1 (Hello World, Todo CLI)","description":"Create benchmarks/ directory structure, implement L0 (hello world) and L1 (todo CLI) benchmarks with smoke tests.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-08T16:44:00.67096-05:00","created_by":"kulesh","updated_at":"2026-01-15T14:59:29.803549-05:00"}
{"id":"waypoints-t5j","title":"Testing Strategy Implementation","description":"Implement comprehensive testing strategy for Waypoints: benchmark suite (L0-L5), quality gates (LLM-as-judge), output validation, and traditional tests. See docs/testing-strategy.md for full details.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-08T16:43:47.5408-05:00","created_by":"kulesh","updated_at":"2026-01-08T16:43:47.5408-05:00","dependencies":[{"issue_id":"waypoints-t5j","depends_on_id":"waypoints-sm0","type":"blocks","created_at":"2026-01-08T16:44:24.440376-05:00","created_by":"kulesh"},{"issue_id":"waypoints-t5j","depends_on_id":"waypoints-nou","type":"blocks","created_at":"2026-01-08T16:44:24.512836-05:00","created_by":"kulesh"},{"issue_id":"waypoints-t5j","depends_on_id":"waypoints-ak8","type":"blocks","created_at":"2026-01-08T16:44:24.586112-05:00","created_by":"kulesh"},{"issue_id":"waypoints-t5j","depends_on_id":"waypoints-p3l","type":"blocks","created_at":"2026-01-08T16:44:24.661321-05:00","created_by":"kulesh"},{"issue_id":"waypoints-t5j","depends_on_id":"waypoints-ai7","type":"blocks","created_at":"2026-01-08T16:44:24.732491-05:00","created_by":"kulesh"},{"issue_id":"waypoints-t5j","depends_on_id":"waypoints-2pe","type":"blocks","created_at":"2026-01-08T16:44:24.8053-05:00","created_by":"kulesh"},{"issue_id":"waypoints-t5j","depends_on_id":"waypoints-x2u","type":"blocks","created_at":"2026-01-08T16:44:24.877586-05:00","created_by":"kulesh"},{"issue_id":"waypoints-t5j","depends_on_id":"waypoints-ufy","type":"blocks","created_at":"2026-01-08T16:44:24.951431-05:00","created_by":"kulesh"}]}
{"id":"waypoints-t6r","title":"FLY Phase: Waypoint Implementation","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-08T00:26:49.795441-05:00","created_by":"kulesh","updated_at":"2026-01-10T22:20:05.812877-05:00","closed_at":"2026-01-10T22:20:05.812877-05:00","close_reason":"Already implemented - FLY phase is functional","dependencies":[{"issue_id":"waypoints-t6r","depends_on_id":"waypoints-d62","type":"blocks","created_at":"2026-01-08T01:55:25.91673-05:00","created_by":"kulesh"}]}
{"id":"waypoints-t7o","title":"GenSpec viewer CLI (read-only)","description":"Add a CLI command to inspect genspec bundles/jsonl: summary, step timeline, artifacts list, and quick previews for testing and validation.","status":"closed","priority":2,"issue_type":"feature","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-04T16:03:26.190405-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-10T16:21:54.085262-05:00","closed_at":"2026-02-10T16:21:54.085262-05:00","close_reason":"Implemented:  CLI + genspec viewer + tests (tests/test_genspec_viewer.py)","dependencies":[{"issue_id":"waypoints-t7o","depends_on_id":"waypoints-08j","type":"blocks","created_at":"2026-02-04T16:03:35.851742-05:00","created_by":"Kulesh Shanmugasundaram"}]}
{"id":"waypoints-tmk","title":"F7: Waypoint manipulation","description":"Select to view details. Edit title/objective/criteria. Break down (AI-assisted). Merge adjacent. Reorder respecting deps. Delete with warning.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T16:48:07.615942-05:00","created_by":"kulesh","updated_at":"2026-01-07T23:59:17.221037-05:00","closed_at":"2026-01-07T23:59:17.221037-05:00","close_reason":"Implemented edit, delete, and break down functionality for waypoints","dependencies":[{"issue_id":"waypoints-tmk","depends_on_id":"waypoints-ld7","type":"blocks","created_at":"2026-01-07T16:49:38.95241-05:00","created_by":"kulesh"}]}
{"id":"waypoints-toa","title":"Mini git status indicator on Fly screen","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-09T17:52:21.527435-05:00","created_by":"kulesh","updated_at":"2026-01-09T22:02:54.559261-05:00","closed_at":"2026-01-09T22:02:54.559261-05:00","close_reason":"Implemented mini git status indicator with branch and change colors"}
{"id":"waypoints-twt","title":"Headless CLI execution (waypoints run)","description":"Enable fully headless genspec-to-software pipeline for CI/CD:\n1. Add --run flag to 'waypoints import' that sets journey to fly:ready\n2. Add 'waypoints run \u003cproject\u003e' command that executes waypoints non-interactively\n3. Stream progress to stdout, errors to stderr\n4. Exit codes: 0=success, 1=failure, 2=intervention needed\n\nUse case: CI/CD pipelines generating software from genspec recipes without TUI.","status":"closed","priority":2,"issue_type":"feature","owner":"test@waypoints.dev","created_at":"2026-01-17T15:10:54.781333-05:00","created_by":"Waypoints Test","updated_at":"2026-01-17T16:14:23.605994-05:00","closed_at":"2026-01-17T16:14:23.605994-05:00","close_reason":"Closed"}
{"id":"waypoints-ufy","title":"Traditional Tests: Executor Unit Tests","description":"Add unit tests for WaypointExecutor: _build_prompt, _needs_intervention, completion marker detection. Mock LLM at agent_query level.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:44:02.01434-05:00","created_by":"kulesh","updated_at":"2026-01-10T22:52:10.726546-05:00","closed_at":"2026-01-10T22:52:10.726546-05:00","close_reason":"Added 49 unit tests for WaypointExecutor in tests/test_executor.py - covers _build_prompt, _needs_intervention, criterion pattern, file operation extraction, and dataclasses"}
{"id":"waypoints-uqa","title":"REF53-P3 implement rollback and prompt-context hardening","description":"Phase 3: close reliability gaps including rollback implementation and prompt context hardening.","status":"open","priority":1,"issue_type":"task","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-05T21:51:46.781442-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-05T21:52:05.449442-05:00","dependencies":[{"issue_id":"waypoints-uqa","depends_on_id":"waypoints-5to","type":"blocks","created_at":"2026-02-05T21:52:21.765506-05:00","created_by":"Kulesh Shanmugasundaram"}]}
{"id":"waypoints-v8r","title":"Multi-hop waypoints skipped during execution","description":"## Bug\nExecution skips multi-hop waypoints (parents with children) and moves to the next top-level waypoint.\n\n## Steps to Reproduce\n1. Have a flight plan with WP-003 containing children (WP-003a, WP-003b, etc.)\n2. Complete WP-001 and WP-002\n3. Execution should start WP-003's children (WP-003a first)\n4. Instead, execution skips to WP-004\n\n## Root Cause (suspected)\n`_select_next_waypoint()` in fly.py iterates through `flight_plan.waypoints` looking for PENDING waypoints with met dependencies. It likely doesn't properly handle:\n1. Parent waypoints that have children (should execute children, not parent)\n2. The flat vs hierarchical waypoint list structure\n\n## Investigation Needed\n1. How does `flight_plan.waypoints` list represent parent/child relationships?\n2. Does `_select_next_waypoint()` check for children before selecting a parent?\n3. Should parent waypoints ever be directly executed, or only their children?\n\n## Files to Check\n- `src/waypoints/tui/screens/fly.py` - `_select_next_waypoint()`\n- `src/waypoints/models/flight_plan.py` - waypoint list structure","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-08T10:16:48.995024-05:00","created_by":"kulesh","updated_at":"2026-01-08T10:19:34.913994-05:00","closed_at":"2026-01-08T10:19:34.913994-05:00","close_reason":"Fixed in commit 9d08487"}
{"id":"waypoints-ve8","title":"Status bar shows 'All waypoints complete!' when waypoints are blocked or failed","description":"## Summary\nThe FlyScreen status bar displays \"All waypoints complete!\" even when there are pending and failed waypoints. This happens when `_select_next_waypoint()` cannot find an eligible waypoint to execute.\n\n## Root Cause\nIn `src/waypoints/tui/screens/fly.py`, the `_select_next_waypoint()` method (lines 975-1045) unconditionally sets `ExecutionState.DONE` when no eligible waypoint is found:\n\n```python\n# No waypoints found\nlogger.info(\"No eligible waypoints found - DONE\")\nself.current_waypoint = None\nself.execution_state = ExecutionState.DONE\n```\n\nThis doesn't distinguish between:\n- All waypoints truly complete (correct)\n- Waypoints blocked by failed dependencies (incorrect)\n- Waypoints blocked by unmet dependencies (incorrect)\n\nThe `_get_state_message()` method then blindly returns \"All waypoints complete!\" for any DONE state.\n\n## Expected Behavior\n| Condition | Expected Message |\n|-----------|-----------------|\n| All waypoints COMPLETE/SKIPPED | \"All waypoints complete!\" |\n| PENDING blocked by FAILED | \"Blocked by failed waypoint(s)\" or similar |\n| PENDING with unmet deps | \"Waiting for dependencies\" or \"X waypoints remaining\" |\n\n## Files to Modify\n- `src/waypoints/tui/screens/fly.py`: `_select_next_waypoint()` and `_get_state_message()`\n\n## Acceptance Criteria\n- [ ] Status shows \"All waypoints complete!\" only when all waypoints are COMPLETE or SKIPPED\n- [ ] Status shows blocked/waiting message when waypoints exist but can't be executed\n- [ ] Existing tests pass, new tests cover blocked scenarios","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-09T23:12:31.680719-05:00","created_by":"kulesh","updated_at":"2026-01-09T23:18:45.238292-05:00","closed_at":"2026-01-09T23:18:45.238292-05:00","close_reason":"Fixed misleading status message"}
{"id":"waypoints-vku","title":"P2: Orchestration Layer","description":"Extract business logic from TUI screens to JourneyCoordinator. Screens become thin wrappers. Enables testing without UI and headless/API mode. See docs/architecture-roadmap.md for full spec.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T19:39:13.48452-05:00","created_by":"kulesh","updated_at":"2026-01-10T15:48:33.230726-05:00","closed_at":"2026-01-10T15:48:33.230726-05:00","close_reason":"Completed: JourneyCoordinator with FLY/CHART screen integration, 19 tests. IDEATION deferred (LLM streaming coupled to UI).","dependencies":[{"issue_id":"waypoints-vku","depends_on_id":"waypoints-4kn","type":"blocks","created_at":"2026-01-08T19:39:36.632956-05:00","created_by":"kulesh"}]}
{"id":"waypoints-vrj","title":"Time and cost ticker on Fly screen","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T17:52:19.630798-05:00","created_by":"kulesh","updated_at":"2026-01-09T18:06:39.598326-05:00","closed_at":"2026-01-09T18:06:39.598326-05:00","close_reason":"Implemented time/cost ticker in fly.py status bar"}
{"id":"waypoints-w8w","title":"Phase 5: Resolve documentation and retrieval-index drift","description":"Fix stale references and keep AGENTS/README/docs index aligned with runtime behavior.","notes":"Resolved key docs/index drift items from baseline: AGENTS single-test command now points to an existing test, architecture roadmap state snippet updated from legacy LANDED to LAND_REVIEW, testing strategy updated with executable flight-test commands and current implementation status.","status":"closed","priority":2,"issue_type":"task","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-06T19:36:18.641457-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-06T19:53:57.227265-05:00","closed_at":"2026-02-06T19:53:57.227265-05:00","close_reason":"Stale references corrected across AGENTS/testing docs/architecture roadmap for current runtime behavior.","dependencies":[{"issue_id":"waypoints-w8w","depends_on_id":"waypoints-bl0","type":"blocks","created_at":"2026-02-06T19:36:47.248755-05:00","created_by":"Kulesh Shanmugasundaram"}]}
{"id":"waypoints-wgm","title":"REF53-P4 automate L0/L1 flight tests","description":"Phase 4: implement automated L0/L1 flight tests and reproducible result capture.","status":"open","priority":2,"issue_type":"task","owner":"164083+kulesh@users.noreply.github.com","created_at":"2026-02-05T21:51:47.666462-05:00","created_by":"Kulesh Shanmugasundaram","updated_at":"2026-02-05T21:52:06.002184-05:00","dependencies":[{"issue_id":"waypoints-wgm","depends_on_id":"waypoints-uqa","type":"blocks","created_at":"2026-02-05T21:52:22.540567-05:00","created_by":"Kulesh Shanmugasundaram"}]}
{"id":"waypoints-x2u","title":"Traditional Tests: Model Unit Tests","description":"Add unit tests for Project, Waypoint, FlightPlan models. Test serialization, validation, and state transitions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T16:44:01.824031-05:00","created_by":"kulesh","updated_at":"2026-01-10T22:50:02.960632-05:00","closed_at":"2026-01-10T22:50:02.960632-05:00","close_reason":"Added comprehensive unit tests for Waypoint, FlightPlan, and Project models in tests/test_models.py (54 tests)"}
{"id":"waypoints-xmu","title":"Sound/desktop notification on waypoint completion","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-09T17:52:49.443266-05:00","created_by":"kulesh","updated_at":"2026-01-16T13:55:54.43526-05:00","closed_at":"2026-01-16T13:55:54.43526-05:00","close_reason":"Removed from scope - not needed for now"}
{"id":"waypoints-xrm","title":"Execute FLY phase after import (Run Now mode)","description":"When 'Run Now' is selected during import: set journey state to fly:ready, transition to FLY screen, auto-start execution of first pending waypoint. Depends on import UI being complete.","status":"closed","priority":1,"issue_type":"task","owner":"test@waypoints.dev","created_at":"2026-01-17T12:15:02.256522-05:00","created_by":"Waypoints Test","updated_at":"2026-01-17T12:45:35.288181-05:00","closed_at":"2026-01-17T12:45:35.288181-05:00","close_reason":"Implemented import UI, validation, and journey state setup","dependencies":[{"issue_id":"waypoints-xrm","depends_on_id":"waypoints-r14","type":"blocks","created_at":"2026-01-17T12:15:11.700109-05:00","created_by":"Waypoints Test"}]}
{"id":"waypoints-xsp","title":"Product Evolution \u0026 Iteration Support","description":"Support tracking ideas/features for future implementation per project, enabling product iterations and evolution over time.\n\n## Problem\nCurrently Waypoints focuses on a single pass from idea to spec to waypoints to execution. After the initial product is built, there is no native way to:\n- Capture new feature ideas that emerge during development\n- Plan future iterations/versions\n- Track the evolution of a product over multiple development cycles\n\n## Goals\n- Native support for \"future ideas\" or \"backlog\" per project\n- Version tracking for product specs (v1, v2, etc.)\n- Ability to promote backlog items into new waypoints for next iteration\n- Historical view of how a product evolved\n\n## Potential Approach\n- Add a Backlog or Ideas section to projects\n- Support multiple spec versions with clear lineage\n- UI for managing future iterations\n- Integration with existing CHART phase for new waypoint generation","status":"closed","priority":2,"issue_type":"epic","owner":"test@waypoints.dev","created_at":"2026-01-12T00:55:09.539899-05:00","created_by":"Waypoints Test","updated_at":"2026-01-15T19:10:28.80145-05:00","closed_at":"2026-01-15T19:10:28.80145-05:00","close_reason":"Fully implemented: Gen Spec panel with tree view, step preview, export functionality, and RegenerateModal for replaying specs"}
{"id":"waypoints-zgf","title":"P2: Structured Execution Protocol","description":"Replace marker-based completion with explicit stages: ANALYZE ‚Üí PLAN ‚Üí TEST ‚Üí CODE ‚Üí RUN ‚Üí FIX ‚Üí LINT ‚Üí REPORT. Each stage produces structured JSON report. Receipt generated from execution report. See docs/architecture-roadmap.md for full spec.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T19:39:13.640766-05:00","created_by":"kulesh","updated_at":"2026-01-10T22:18:46.557538-05:00","closed_at":"2026-01-10T22:18:46.557538-05:00","close_reason":"Deferred: marker-based approach works well, staged protocol adds complexity without clear benefit","dependencies":[{"issue_id":"waypoints-zgf","depends_on_id":"waypoints-d0j","type":"blocks","created_at":"2026-01-08T19:39:36.746614-05:00","created_by":"kulesh"},{"issue_id":"waypoints-zgf","depends_on_id":"waypoints-vku","type":"blocks","created_at":"2026-01-08T19:39:36.862568-05:00","created_by":"kulesh"}]}
